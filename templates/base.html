<!DOCTYPE html>
<html>
<head>
    <title>Mini HMS</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<style>
  .navbar a.btn {
    transition: all 0.2s ease-in-out;
  }
  .navbar a.btn:hover {
    transform: translateY(-1px);
  }

  
  .role-pill {
    padding: 6px 14px;
    border-radius: 999px;
    font-size: 0.85rem;
    font-weight: 600;
    color: #fff;
    white-space: nowrap;
  }

  .role-pill.admin {
    background: #ffc107;
    color: #212529;
  }

  .role-pill.doctor {
    background: #0dcaf0;
    color: #212529;
  }

  .role-pill.patient {
    background: #198754;
  }

</style>
<script>
  function togglePassword(fieldId, btn) {
    const field = document.getElementById(fieldId);

    if (field.type === "password") {
      field.type = "text";
      btn.innerText = "Hide";
    } else {
      field.type = "password";
      btn.innerText = "Show";
    }
  }
</script>
</head>
<body class="bg-light">

<nav class="navbar navbar-expand-lg navbar-dark  shadow-sm" style="background-color: #023160;">

 
  <div class="container-fluid">

    <!-- Brand -->
    <a class="navbar-brand fw-bold" href="{% url 'home' %}">
      ü©∫ DocEase
    </a>

    {%if not user.is_authenticated %}   
    <a class="nav-link text-white" href="{% url 'home' %}">
     üè°  Home            
    </a>
    {% endif %} 

    <!-- Right side -->
    <div class="d-flex align-items-center gap-3">

      {% if user.is_authenticated %}

        {% comment %} <!-- Role-based Dashboard -->
        {% if user.is_superuser or user.role == 'admin' %}
          <a href="{% url 'admin_dashboard' %}" class="btn btn-sm btn-warning">
            Admin Panel
          </a>
        {% elif user.role == 'doctor' %}
          <a href="{% url 'doctor_dashboard' %}" class="btn btn-sm btn-outline-info">
            Dashboard
          </a>
        {% elif user.role == 'patient' %}
          <a href="{% url 'patient_dashboard' %}" class="btn btn-sm btn-outline-success">
            Dashboard
          </a>
        {% endif %} {% endcomment %}

        <!-- User Info -->
        <div class="d-flex align-items-center gap-2 text-white">

         <!-- Role Button (same size as dashboard) -->
              <!-- Role Pill -->
{% if user.is_superuser or user.role == 'admin' %}
  <span class="role-pill admin">Admin</span>
{% elif user.role == 'doctor' %}
  <span class="role-pill doctor">Doctor</span>
{% elif user.role == 'patient' %}
  <span class="role-pill patient">Patient</span>
{% endif %}

          <!-- Username -->
          <span class="fw-semibold">
            {{ user.username }}
          </span>
        </div>

        <!-- Logout -->
        <form method="post" action="{% url 'logout' %}" class="mb-0">
          {% csrf_token %}
          <button class="btn btn-sm btn-danger">
            Logout
          </button>
        </form>

      {% else %}

        <!-- Logged out -->
        <a href="{% url 'login' %}?role=admin" class="btn btn-sm btn-outline-light">
         üîê Login as Admin
        </a>
      
      {% endif %}

    </div>

  </div>
</nav>


<div class="container mt-4">
  {% if messages %}
  {% for message in messages %}
    <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
      {{ message }}
      <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
    </div>
  {% endfor %}
{% endif %}
    {% block content %}{% endblock %}
</div>

</body>
</html>
